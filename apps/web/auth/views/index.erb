<div class="bg-white rounded-xl shadow-lg p-8">
  <div class="text-center mb-8">
    <h2 class="text-3xl font-bold text-gray-900 mb-4">Authentication Service</h2>
    <p class="text-gray-600">Test all available authentication endpoints</p>
  </div>

  <% if rodauth.logged_in? %>
    <!-- Logged In User Options -->
    <div class="space-y-6">
      <div>
        <h3 class="text-lg font-semibold text-gray-900 mb-4">Account Management</h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <a href="<%= request.script_name %>/account" class="block p-4 bg-brand-50 border border-brand-200 rounded-lg hover:bg-brand-100 transition-colors duration-200">
            <div class="font-medium text-brand-900">Account Info</div>
            <div class="text-sm text-brand-700">View your account details</div>
          </a>

          <a href="<%= rodauth.change_password_path %>" class="block p-4 bg-yellow-50 border border-yellow-200 rounded-lg hover:bg-yellow-100 transition-colors duration-200">
            <div class="font-medium text-yellow-900">Change Password</div>
            <div class="text-sm text-yellow-700">Update your password</div>
          </a>
        </div>
      </div>

      <div>
        <h3 class="text-lg font-semibold text-gray-900 mb-4">Security Features</h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <a href="<%= rodauth.otp_setup_path %>" class="block p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors duration-200">
            <div class="font-medium text-green-900">Setup 2FA</div>
            <div class="text-sm text-green-700">Enable two-factor authentication</div>
          </a>

          <a href="<%= rodauth.otp_auth_path %>" class="block p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors duration-200">
            <div class="font-medium text-purple-900">2FA Login</div>
            <div class="text-sm text-purple-700">Test two-factor authentication</div>
          </a>

          <a href="<%= rodauth.recovery_codes_path %>" class="block p-4 bg-indigo-50 border border-indigo-200 rounded-lg hover:bg-indigo-100 transition-colors duration-200">
            <div class="font-medium text-indigo-900">Recovery Codes</div>
            <div class="text-sm text-indigo-700">View/generate backup codes</div>
          </a>

          <a href="<%= rodauth.remember_path %>" class="block p-4 bg-cyan-50 border border-cyan-200 rounded-lg hover:bg-cyan-100 transition-colors duration-200">
            <div class="font-medium text-cyan-900">Remember Me</div>
            <div class="text-sm text-cyan-700">Setup persistent login</div>
          </a>
        </div>
      </div>

      <div>
        <h3 class="text-lg font-semibold text-gray-900 mb-4">Administrative</h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <a href="<%= rodauth.close_account_path %>" class="block p-4 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 transition-colors duration-200">
            <div class="font-medium text-red-900">Close Account</div>
            <div class="text-sm text-red-700">Delete your account</div>
          </a>

          <a href="<%= request.script_name %>/admin/stats" class="block p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors duration-200">
            <div class="font-medium text-gray-900">Admin Stats</div>
            <div class="text-sm text-gray-700">View system statistics</div>
          </a>
        </div>
      </div>
    </div>

  <% else %>
    <!-- Not Logged In Options -->
    <div class="space-y-6">
      <div>
        <h3 class="text-lg font-semibold text-gray-900 mb-4">Get Started</h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <a href="<%= rodauth.login_path %>" class="block p-4 bg-brand-50 border border-brand-200 rounded-lg hover:bg-brand-100 transition-colors duration-200">
            <div class="font-medium text-brand-900">Login</div>
            <div class="text-sm text-brand-700">Sign in to your account</div>
          </a>

          <a href="<%= rodauth.create_account_path %>" class="block p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors duration-200">
            <div class="font-medium text-green-900">Create Account</div>
            <div class="text-sm text-green-700">Register a new account</div>
          </a>
        </div>
      </div>

      <div>
        <h3 class="text-lg font-semibold text-gray-900 mb-4">Account Recovery</h3>
        <div class="grid grid-cols-1 gap-4">
          <a href="<%= rodauth.reset_password_request_path %>" class="block p-4 bg-yellow-50 border border-yellow-200 rounded-lg hover:bg-yellow-100 transition-colors duration-200">
            <div class="font-medium text-yellow-900">Reset Password</div>
            <div class="text-sm text-yellow-700">Forgot your password? Reset it here</div>
          </a>
        </div>
      </div>
    </div>
  <% end %>

  <!-- API Endpoints Section -->
  <div class="mt-8 pt-8 border-t border-gray-200">
    <h3 class="text-lg font-semibold text-gray-900 mb-4">API Endpoints</h3>
    <div class="bg-gray-50 rounded-lg p-4">
      <div class="space-y-2 text-sm">
        <div class="grid grid-cols-3 gap-4 font-medium text-gray-700 border-b pb-2">
          <span>Method</span>
          <span>Endpoint</span>
          <span>Description</span>
        </div>

        <div class="grid grid-cols-3 gap-4 text-gray-600">
          <span class="font-mono text-green-600">GET</span>
          <span class="font-mono"><%= request.script_name %>/health</span>
          <span>Health check & database status</span>
        </div>

        <div class="grid grid-cols-3 gap-4 text-gray-600">
          <span class="font-mono text-blue-600">POST</span>
          <span class="font-mono"><%= request.script_name %>/validate</span>
          <span>Token validation for main app</span>
        </div>

        <div class="grid grid-cols-3 gap-4 text-gray-600">
          <span class="font-mono text-green-600">GET</span>
          <span class="font-mono"><%= request.script_name %>/account</span>
          <span>Account info (JSON/HTML)</span>
        </div>

        <div class="grid grid-cols-3 gap-4 text-gray-600">
          <span class="font-mono text-green-600">GET</span>
          <span class="font-mono"><%= request.script_name %>/admin/stats</span>
          <span>System statistics</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick Test Section -->
  <div class="mt-8 pt-8 border-t border-gray-200">
    <h3 class="text-lg font-semibold text-gray-900 mb-4">Quick Tests</h3>
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
      <a href="<%= request.script_name %>/health"
         target="_blank"
         class="block p-4 bg-emerald-50 border border-emerald-200 rounded-lg hover:bg-emerald-100 transition-colors duration-200">
        <div class="font-medium text-emerald-900">Test Health Check</div>
        <div class="text-sm text-emerald-700">Verify service is running</div>
      </a>

      <a href="<%= request.script_name %>/account.json"
         target="_blank"
         class="block p-4 bg-sky-50 border border-sky-200 rounded-lg hover:bg-sky-100 transition-colors duration-200">
        <div class="font-medium text-sky-900">Test JSON API</div>
        <div class="text-sm text-sky-700">View account info as JSON</div>
      </a>
    </div>
  </div>
</div>
