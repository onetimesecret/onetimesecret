##
# Onetime Secret - Environment Variables (updated 2025-03-17)
#
# Usage:
#
#   $ cp -np .env.example .env
#   $ source .env
#   $ bundle exec thin (etc...)
#

# NOTE: set -a enables automatic export mode. All variable assignments
# between set -a and set +a will be exported to child processes without
# needing 'export' keyword.
set -a

SERVER_TYPE=thin
PORT=${PORT:-3000}

AUTHENTICATION_MODE=advanced


# One of: DefaultLogo.vue, LegacyLogo.vue, OnetimeSecretLogo.vue
LOGO_URL=DefaultLogo.vue

# When enabled, the actual links need to be added via etc/config.yaml
FOOTER_LINKS=false

# Core application settings
HOST="localhost:$PORT"
SSL="true"
SECRET="CHANGEME"
REDIS_URL="redis://CHANGEME@redis:6379/0"
STDOUT_SYNC=true
ONETIME_DEBUG="false"
RACK_ENV=production

COLONEL="CHANGEME@EXAMPLE.com"


# Multi-Factor Authentication (MFA)
# Enables TOTP-based 2FA and recovery codes via Rodauth
ENABLE_MFA=false
HMAC_SECRET=


# Authentication settings
AUTH_ENABLED=true
AUTH_SIGNUP=false
AUTH_SIGNIN=true
AUTH_AUTOVERIFY=true

# Multi-Factor Authentication (MFA)
# Enable TOTP-based 2FA and recovery codes via Rodauth
ENABLE_MFA=true

# Footer Links
FOOTER_LINKS=
TERMS_URL=
TERMS_EXTERNAL=
PRIVACY_URL=
PRIVACY_EXTERNAL=
STATUS_URL=
STATUS_EXTERNAL=
ABOUT_URL=
ABOUT_EXTERNAL=
CONTACT_URL=

# Feature flags
REGIONS_ENABLED=true
JURISDICTION=CHANGEME
DOMAINS_ENABLED=false
DEFAULT_DOMAIN=
I18N_ENABLED=false
I18N_DEFAULT_LOCALE=en

# Email settings
EMAILER_MODE=smtp
EMAILER_REGION=
FROM_EMAIL=
FROMNAME=

SMTP_HOST=
SMTP_PORT=
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_AUTH=login
SMTP_TLS=true

VERIFIER_EMAIL=
VERIFIER_DOMAIN=

# Security settings
CSP_ENABLED=false
1
# Monitoring and Diagnostics
DIAGNOSTICS_ENABLED=false
SENTRY_DSN_BACKEND=
SENTRY_DSN_FRONTEND=
SENTRY_VUE_TRACK_COMPONENTS=true
SENTRY_SAMPLE_RATE=
SENTRY_MAX_BREADCRUMBS=
SENTRY_LOG_ERRORS=true
HEADER_PREFIX=ONETIME_

# Logging Configuration
# Set to 'false' to disable request logging
LOG_HTTP_REQUESTS=

# Clustering configuration
CLUSTER_TYPE=
APPROXIMATED_API_KEY=
APPROXIMATED_PROXY_CLUSTER_IP=
APPROXIMATED_PROXY_CLUSTER_HOST=
APPROXIMATED_PROXY_CLUSTER_NAME=
APPROXIMATED_PROXY_VHOST_TARGET=

# Development settings
FRONTEND_HOST=
VITE_API_BASE_URL=

# Set +a restores default behavior where variables must be explicitly exported
set +a
