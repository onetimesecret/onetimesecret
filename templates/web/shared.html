{{>header}}

<div class="container mx-auto p-4 max-w-2xl">
  {{^verification}}
  {{#is_owner}}
    {{^show_secret}}
    <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4 dark:bg-yellow-800 dark:text-yellow-200">
      <button type="button" class="float-right" onclick="this.parentElement.remove()">&times;</button>
      <strong>{{i18n.COMMON.warning}}</strong> {{i18n.page.you_created_this_secret}}
    </div>
    {{/show_secret}}
    {{#show_secret}}
    <div class="bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-4 dark:bg-blue-800 dark:text-blue-200">
      <button type="button" class="float-right" onclick="this.parentElement.remove()">&times;</button>
      {{i18n.page.viewed_own_secret}}
    </div>
    {{/show_secret}}
  {{/is_owner}}
  {{/verification}}

  <div class="space-y-4">
    {{^show_secret}}
    {{^has_passphrase}}
    {{#verification}}
    <p class="text-md text-gray-600 dark:text-gray-400">{{i18n.COMMON.click_to_verify}}</p>
    {{/verification}}
    {{^verification}}
    <p class="text-md text-gray-600 dark:text-gray-400">{{i18n.COMMON.click_to_continue}}</p>
    {{/verification}}
    {{/has_passphrase}}
    {{#has_passphrase}}
    <h2 class="text-xl font-bold text-gray-800 dark:text-gray-200">{{i18n.page.requires_passphrase}}</h2>
    {{/has_passphrase}}
    {{>partial/session_messages}}
    <form method="POST" class="space-y-4">
      {{{add_shrimp}}}
      <input name="continue" type="hidden" value="true" />
      {{#has_passphrase}}
      <input type="password" name="passphrase" id="passField" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" placeholder="{{i18n.COMMON.enter_passphrase_here}}" />
      {{/has_passphrase}}
      <button type="submit" class="w-full px-4 py-2 text-white bg-brand-500 rounded-md hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">{{i18n.COMMON.view_secret}}</button>
    </form>
    {{^verification}}
    <p class="text-sm text-gray-500 dark:text-gray-400">({{i18n.COMMON.careful_only_see_once}})</p>
    {{/verification}}
    {{/show_secret}}
    {{#show_secret}}
    <div class="space-y-4">
      {{#verification}}
      <p class="text-sm text-gray-600 dark:text-gray-400">{{i18n.page.your_secret_message}}</p>
      {{/verification}}
      {{^verification}}
      <p class="text-sm text-gray-600 dark:text-gray-400">{{i18n.page.this_message_for_you}}</p>
      {{/verification}}

      <textarea class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" readonly rows="{{display_lines}}">{{secret_value}}</textarea>

      {{^verification}}
      <p class="text-sm text-gray-500 dark:text-gray-400">({{i18n.COMMON.careful_only_see_once}})</p>
      {{/verification}}

      {{#truncated}}
      <div class="bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 text-sm dark:bg-blue-800 dark:text-blue-200">
        <button type="button" class="float-right" onclick="this.parentElement.remove()">&times;</button>
        <strong>{{i18n.COMMON.warning}}</strong> {{i18n.page.secret_was_truncated}} {{secret_value.size.to_bytes}}.
        {{^authenticated}}<a href="/signup" class="text-brand-500 hover:underline">{{i18n.COMMON.signup_for_more}}</a>.{{/authenticated}}
      </div>
      {{/truncated}}
    </div>
    <div class="mt-4">
      {{^verification}}
      {{^is_subdomain}}
      <a href="/" class="block w-full px-4 py-2 text-center rounded-md
      text-brand-500 bg-white border border-brand-500
      dark:bg-gray-800 dark:text-brand-400 dark:border-brand-400 dark:hover:bg-gray-700
      hover:bg-brand-50 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 ">{{i18n.page.reply_with_secret}}</a>
      {{/is_subdomain}}
      {{#is_subdomain}}
      <a href="{{subdomain.homepage}}" class="text-brand-500 hover:underline">Return to {{subdomain.company_domain}}</a>
      {{/is_subdomain}}
      {{/verification}}
      {{#verification}}
      <a href="/signin" class="block w-full px-4 py-2 text-center text-brand-500 bg-white border border-brand-500 rounded-md hover:bg-brand-50 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 dark:bg-gray-800 dark:text-brand-400 dark:border-brand-400 dark:hover:bg-gray-700">{{i18n.COMMON.login_to_your_account}}</a>
      {{/verification}}
    </div>
    {{/show_secret}}
  </div>
</div>
{{>footer}}
